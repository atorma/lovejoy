<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <title>Lovejoy</title>
</head>
<body data-whatinput="mouse">
    <header class="header">
        <span class="header__result"></span>
    </header>
    <main>
        <div class="code">
            <div id="editor" class="editor">return function solve(keyChars, cipherCharTree) {
    /* Oma koodi t√§nne */

    keyChars.sort(function (e1, e2) {
        return e1.sortOrder - e2.sortOrder;
    });
    var key = '';
    for (var i = 0; i < keyChars.length; i++) {
        key += keyChars[i].character;
    }

    var ciphertext = '';
    function visit(node) {
        for (var i = 0; i < node.children.length; i++) {
            visit(node.children[i]);
        }
        ciphertext += node.character;
    }
    visit(cipherCharTree);

    var solution = '';
    for (var i = 0; i < ciphertext.length; i++) {
        solution += String.fromCharCode(key.charCodeAt(i) ^ ciphertext.charCodeAt(i));
    }

    return solution;
}</div>
        </div>
        <div class="row row--buttons">
            <div class="columns text-right">
                <button id="run-button" type="button" class="button primary">Aja!</button>
            </div>
        </div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.6/ace.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.6/mode-javascript.js" type="text/javascript"></script>
</body>
</html>